replicaCount: ${tfe_replica_count}
tls:
  certificateSecret: "tfe-certificate"
  certData: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUQ3VENDQTNLZ0F3SUJBZ0lUUEFBQUFBcXFGbFl1MitKVVJRQUFBQUFBQ2pBS0JnZ3Foa2pPUFFRREJEQkIKTVJVd0V3WUtDWkltaVpQeUxHUUJHUllGYkc5allXd3hHVEFYQmdvSmtpYUprL0lzWkFFWkZnbG9ZWE5vYVdOdgpjbkF4RFRBTEJnTlZCQU1UQkhKdmIzUXdIaGNOTWpRd01URTFNRFF5TlRBeVdoY05Nall3TVRFMU1EUXpOVEF5CldqQm9NUXN3Q1FZRFZRUUdFd0pCVlRFUE1BMEdBMVVFQnhNR1UzbGtibVY1TVE0d0RBWURWUVFLRXdWWFYxUkcKVHpFV01CUUdBMVVFQ3d3TlZFWlBYMEZRU2w5RVJVMVBVekVnTUI0R0ExVUVBeE1YUjBOV1JTQldZWFZzZENCSgpiblJsY20xbFpHbGhkR1V3ZGpBUUJnY3Foa2pPUFFJQkJnVXJnUVFBSWdOaUFBU2hpY1JkQnFHZ3RnQklYbjVGCkpLeWFOUlBGcHQvcC9sQ1FjYkgyU3ZpWmlYMWwyMk5NK1cyeDZTL2dGci9EcU1MVmxzeit2MjdsS1hIVWEwa2QKcjJhM2E0R3dxVFNiM2VDcjJPZ0JWQ2ZoSzQ1aEl0QW9jMEpTQ3lQR0NVK2VVTHVqZ2dJRE1JSUIvekFkQmdOVgpIUTRFRmdRVUhyeTg3YVNydDZnVTJuOVpZYWNTblFlV2Ryc3dId1lEVlIwakJCZ3dGb0FVb0RhbndOSXRjWEh5CkVaZ3ozck9vbVJteUY0NHdnY01HQTFVZEh3U0J1ekNCdURDQnRhQ0JzcUNCcjRhQnJHeGtZWEE2THk4dlEwNDkKY205dmRDeERUajFrWXkwd0xFTk9QVU5FVUN4RFRqMVFkV0pzYVdNbE1qQkxaWGtsTWpCVFpYSjJhV05sY3l4RApUajFUWlhKMmFXTmxjeXhEVGoxRGIyNW1hV2QxY21GMGFXOXVMRVJEUFdoaGMyaHBZMjl5Y0N4RVF6MXNiMk5oCmJEOWpaWEowYVdacFkyRjBaVkpsZG05allYUnBiMjVNYVhOMFAySmhjMlUvYjJKcVpXTjBRMnhoYzNNOVkxSk0KUkdsemRISnBZblYwYVc5dVVHOXBiblF3Z2JvR0NDc0dBUVVGQndFQkJJR3RNSUdxTUlHbkJnZ3JCZ0VGQlFjdwpBb2FCbW14a1lYQTZMeTh2UTA0OWNtOXZkQ3hEVGoxQlNVRXNRMDQ5VUhWaWJHbGpKVEl3UzJWNUpUSXdVMlZ5CmRtbGpaWE1zUTA0OVUyVnlkbWxqWlhNc1EwNDlRMjl1Wm1sbmRYSmhkR2x2Yml4RVF6MW9ZWE5vYVdOdmNuQXMKUkVNOWJHOWpZV3cvWTBGRFpYSjBhV1pwWTJGMFpUOWlZWE5sUDI5aWFtVmpkRU5zWVhOelBXTmxjblJwWm1sagpZWFJwYjI1QmRYUm9iM0pwZEhrd0dRWUpLd1lCQkFHQ054UUNCQXdlQ2dCVEFIVUFZZ0JEQUVFd0R3WURWUjBUCkFRSC9CQVV3QXdFQi96QU9CZ05WSFE4QkFmOEVCQU1DQVlZd0NnWUlLb1pJemowRUF3UURhUUF3WmdJeEFMbHMKRUhsMGdrM0RlOWRpZXN3WWNpWloxanprcDdvWFBxNHhxZEppNzBzcDJPUlMwRmN6QzQxejdmbHBJTUYwTEFJeApBTER4M1dzTUFWS0ZzRno4SjBxS21QOHdQLzA0OERiOFRFdTlBdVV6UTBzZk1mbHJOaHkvSmJ1R25JQVV6bUpSCm1nPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ=="
image:
 repository: ${tfe_image_repository_url}
 name: ${tfe_image_name}
 tag: ${tfe_image_tag}
openshift:
   enabled: true
env:
  secretRefs:
    - name: tfe-secrets
  variables:
    # TFE config settings
    TFE_HOSTNAME: ${tfe_hostname}

    # Database settings
    TFE_DATABASE_HOST: ${tfe_database_host}
    TFE_DATABASE_NAME: ${tfe_database_name}
    TFE_DATABASE_USER: ${tfe_database_user}
    TFE_DATABASE_PARAMETERS: ${tfe_database_parameters}

    # Object storage settings
    TFE_OBJECT_STORAGE_TYPE: ${tfe_object_storage_type}
    TFE_OBJECT_STORAGE_S3_BUCKET: ${tfe_object_storage_s3_bucket}
    TFE_OBJECT_STORAGE_S3_REGION: ${tfe_object_storage_s3_region}
    TFE_OBJECT_STORAGE_S3_ENDPOINT: ${tfe_object_storage_s3_endpoint}
    TFE_OBJECT_STORAGE_S3_USE_INSTANCE_PROFILE: ${tfe_object_storage_s3_use_instance_profile}
    TFE_OBJECT_STORAGE_S3_ACCESS_KEY_ID: ${tfe_object_storage_s3_access_key_id}
    # Redis settings
    TFE_REDIS_HOST: ${tfe_redis_host}
    TFE_REDIS_USE_AUTH: ${tfe_redis_use_auth}
    TFE_REDIS_USE_TLS: ${tfe_redis_use_tls}
    # add image with Vault CA trust
    TFE_RUN_PIPELINE_IMAGE: srlynch1/tfc-agent:latest